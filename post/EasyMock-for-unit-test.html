<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>EasyMock for Unit Test</title>
    <link rel="shortcut icon" type="image/png" href="/images/favicon.ico">
    <link rel="stylesheet" href="/stylesheets/tufte.css" type="text/css" />
    <link rel="stylesheet" href="/stylesheets/styles.css" type="text/css" />
    <link rel="stylesheet" href="/stylesheets/pygment_trac.css" type="text/css" />
    <link rel="stylesheet" href="/stylesheets/font_awesome.css" type="text/css" />
    <link rel="stylesheet" href="/stylesheets/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="/stylesheets/lengerfulluse.css" type="text/css" />
    <script src="/javascripts/jquery-2.1.4.min.js" type="text/javascript"></script>
    <script src="/javascripts/toc.js" type="text/javascript"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <script src="/javascripts/scale.fix.js" type="text/javascript"></script>
    <script src="https://cdn1.lncld.net/static/js/av-mini-0.6.10.js"></script>
    <script src="http://jerry-cdn.b0.upaiyun.com/hit-kounter/hit-kounter-lc-0.2.0.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</head>

<body  data-spy="scroll" data-target=".toc" data-offset="20">
    <div class="site-nav">
        <div class="nav-logo">
        <img src="/assets/img/blog/nav-logo.png" >
        </div>
        <div class="nav-content">
            <a href="/index.html"><span class="nav-content-item">Home</span></a>
            <a href="#"><span class="nav-content-item item-selected">Blogs</span></a>
            <a href="/me.html"><span class="nav-content-item">About</span></a>
            <span>
                <div class="nav-search">
                    <span class="search-input"><input type="text" id="search" placeholder="Article..." /></span>
                    <span class="icon"><i class="fa fa-search"></i></span>
                </div>
            </span>
        </div>
        <div class="nav-discovery">
        </div>
    </div>
    <div class="main-left">
        <div class="toc">
        </div>
    </div>
    <div class="main-center">
        






<div class="post-meta"><i class="fa fa-calendar-o"></i><span class="awesome_font_margin"></span>03 Jul 2014<span class="awesome_font_margin"></span><span class="awesome_element_margin"></span><span><i class="fa fa-bar-chart-o"></i></span><span class="awesome_font_margin"></span><span data-hk-page="current"> - </span><span id="post-nav"> <i class="fa fa-folder-open-o fa-lg"></i> <span><a href="/blog/category/programming/" style="color: #990000;text-decoration: none;">Programming</a></span><span id="post-tags">  <i class="fa fa-tags"></i> <a href="/blog/tag/language/" style="color:#33CCCC;text-decoration: none;">Language</a></span></span></div>

<div id="post">
    <h1>EasyMock for Unit Test</h1>
    <p>I noticed lot of projects code with <strong>unit test</strong> as a necessary part. Unfortunately that, I didn&#39;t have the opportunity to do it myself. Upon coming out from the campus, it naturally become a necessary part of the carel talent of a SDE.
Common and basic test procedure framework will be <a href="http://junit.org">Junit</a>, which lay the fundation of test. Such as <code>@Before,@Test,@After</code> workflow, <code>Assertions, Test Runners, Ignoring, Rule</code>. However, when encounter complex and sophisticated system, the dependency of functions may become perplexing. It&#39;s impossible to construct all this objects as the input of a to-be tested function. <strong>Mock</strong> conception arise naturally. Well in plain word, could we just mock these dependency objects, give their input parameters and expected behavior or return value. And it just exactly benefit what our test case needed. There are lots of good mock framework, such as <a href="http://jmock.org" title="JMock Official">JMock</a>, <a href="http://easymock.org" title="EasyMock official">EasyMock</a>. All roads to Roma. I spent about three days to learn the JMock for a particular unit test code. When I come from JMock to EasyMock, I found that most prior knowledge and experience can be come in handy. I take notes here as a reminder.
 1. From scratch, I just know a little about junit. If I want to write tests for a class, the meta element for test is functions. So I need to construct the context for a function test, such as the corresponding main class, the input parameters for a test, external dependency objects need to construct. also the purpose of test, do we need to <code>Assertions</code>? and so on.
 2. with these in mind, we need to test the functionality of the methods. Is it a <code>AssertEqual()</code>,<code>AssertTrue()</code>,<code>Expected Exception</code>? How could we guarantee the coverage?
 3. How to mock the external dependency object. This is definitely a long story. Simplify by three steps, expect what the behavior and result, replay the workflow, verify the result.</p>

<p><strong>Reference</strong>
1. <a href="http://jmock.org" title="JMock Official">JMock Website</a>
2. <a href="http://easymock.org" title="EasyMock official">EasyMock Official</a>
3. <a href="http://michaelminella.com/testing/mock-controls-with-easymock.html" title="EasyMock Control Tutorial">EasyMock Control Tutorial</a>
4. <a href="http://tamasgyorfi.wordpress.com/2011/04/21/mocking-tutorial-part-1-jmock" title="JMock Tutorial">JMock Tutorial</a></p>

</div>

<div id="related">
  <h2>Related Posts</h2>
  <ul class="posts">
    
      <li><span>19 Dec 2015</span> &raquo; <a href="/post/%E5%BD%93%E6%88%91%E4%BB%AC%E8%B0%88%E8%AE%BArestful%E6%97%B6%E6%88%91%E4%BB%AC%E5%9C%A8%E8%B0%88%E8%AE%BA%E4%BB%80%E4%B9%88">当我们谈论RESTful时，我们在谈论什么</a></li>
    
      <li><span>07 Dec 2015</span> &raquo; <a href="/post/%E4%B9%9F%E8%B0%88MCMC%E6%96%B9%E6%B3%95%E4%B8%8EGibbs%E6%8A%BD%E6%A0%B7">也谈MCMC方法与Gibbs抽样</a></li>
    
      <li><span>30 Aug 2015</span> &raquo; <a href="/post/%E6%A0%B8%E5%87%BD%E6%95%B0%E4%B8%8E%E6%94%AF%E6%8C%81%E5%90%91%E9%87%8F%E6%9C%BA%E5%85%A5%E9%97%A8">核函数与支持向量机入门</a></li>
    
  </ul>
</div>
<!-- 多说评论框 start -->
<div class="ds-thread" data-thread-key="/post/EasyMock-for-unit-test" data-title="EasyMock for Unit Test" data-url="/post/EasyMock-for-unit-test"></div>
    <!-- 多说评论框 end -->
    <!-- 多说公共JS代码 start (一个网页只需插入一次) -->
    <script type="text/javascript">
        var duoshuoQuery = {short_name:"t-hengwei-me"};
            (function() {
                    var ds = document.createElement('script');
                    ds.type = 'text/javascript';ds.async = true;
                    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
                    ds.charset = 'UTF-8';
                    (document.getElementsByTagName('head')[0] 
                    || document.getElementsByTagName('body')[0]).appendChild(ds);
            })();
     </script>
<!-- 多说公共JS代码 end -->

        <div class="footer">
            <div class="copyright">
                Personal technical blog for software development practices, reading notes on ML, NLP.
                <br/> &copy; 2013&mdash;2015 by HengWei. All Rights Reserved.
            </div>
        </div>
    </div>
    <div class="main-right">
        <ul id="results-container"></ul>
    </div>
    <!-- Script pointing to jekyll-search.js -->
    <script src="/dest/jekyll-search.js" type="text/javascript"></script>
    <script type="text/javascript">
      SimpleJekyllSearch({
        searchInput: document.getElementById('search'),
        resultsContainer: document.getElementById('results-container'),
        json: '/search.json',
        searchResultTemplate: '<li><a href="{url}" title="{desc}">{title}</a></li>',
        noResultsText: ': (',
        limit: 10,
        fuzzy: false,
      })
    </script>
    <!-- Script to display table of content -->
    <script type="text/javascript">
    $(document).ready(function() {
    $('.toc').toc();
    });
    </script>
</body>

</html>
