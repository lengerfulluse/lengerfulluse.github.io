---
layout: post_default
comments: true
---
{% assign post = page %}

{% if post.category %}
    {% for site_category in site.data.categories %}
        {% if site_category.slug == post.category %}
            {% assign category = site_category %}
        {% endif %}
    {% endfor %}
    {% if category %}
        {% capture category_content %} <i class="fa fa-folder-open-o fa-lg"></i> <span><a href="/blog/category/{{ category.slug }}/" style="color: {{ category.color }};text-decoration: none;">{{ category.name }}</a></span>{% endcapture %}
    {% endif %}
{% else %}
    {% assign category_content = '' %}
{% endif %}

{% if post.tags.size > 0 %}
    {% capture tags_content %} <i class="fa fa-tags"></i> {% endcapture %}
    {% for post_tag in post.tags %}
        {% for data_tag in site.data.tags %}
            {% if data_tag.slug == post_tag %}
                {% assign tag = data_tag %}
            {% endif %}
        {% endfor %}
        {% if tag %}
            {% capture tags_content_temp %}{{ tags_content }}<a href="/blog/tag/{{ tag.slug }}/" style="color:#33CCCC;text-decoration: none;">{{ tag.name }}</a>{% if forloop.last == false %}, {% endif %}{% endcapture %}
            {% assign tags_content = tags_content_temp %}
        {% endif %}
    {% endfor %}
{% else %}
    {% assign tags_content = '' %}
{% endif %}

<div class="post-meta">
  <span id="post-date">
    <i class="fa fa-calendar-o"></i>
    {{ post.date | date_to_string }}
  </span>
  <div class="post-meta-archieve">
    <span id="post-category">{{ category_content }}</span>
    <span id="post-tags"> {{ tags_content }}</span>
  </div>
</div>
<div class="main-center-post">
  <div id="post">
      <h2 style="text-align: center;">{{page.title}}</h2>
      <div class="post-meta-statistics">
        <span id="post-viewcount">
          <i class="fa fa-bar-chart-o"></i>
          <a><span data-hk-page="current">-</span> VIEWS</a>
        </span>
        <span id="post-comments">
          <i class="fa fa-comments-o" aria-hidden="true"></i>
          <a href="{{ post.url }}#disqus_thread" class="show-comments" data-disqus-url="{{ post.url }}#disqus_thread">COMMENTS</a>
        </span>
      </div>
      <div class="post-content">
        {{ content }}
      </div>
  </div>
  <div id="related">
    <span style="font-size: 18px; font-weight: 600;"><i class="fa fa-lightbulb-o" aria-hidden="true"></i>  Related Posts</span>
    <ul class="posts">
      {% for post in site.related_posts limit:3 %}
        <li><span>{{ post.date | date_to_string }}</span> &raquo; <a href="{{ post.url }}">{{ post.title }}</a></li>
      {% endfor %}
    </ul>
  </div>
</div>
<div id="disqus_thread"></div>
<!-- add comment count for article -->
<script id="dsq-count-scr" src="//lengerfulluse.disqus.com/count.js" async>
</script>
<!-- click to show comments async -->
<script type="text/javascript">
  $(document).ready(function () {
      var disqusPublicKey = "Pyv6AbTuloqrACiEDW3Np3UqCtkO94dU9GHzvOhYl81F9iNUg8P2IZUCqU0kz6zA";
      var disqusShortname = "lengerfulluse";
      var threadUrl = 'link:' + $('.show-comments').attr('data-disqus-url');

      $.ajax({
          type: 'GET',
          url: 'https://disqus.com/api/3.0/threads/set.jsonp',
          data: { api_key: disqusPublicKey, forum: disqusShortname, thread: threadUrl },
          cache: false,
          dataType: 'jsonp',
          success: function(result) {
              if (result.response.length === 1) {
                  btnText = result.response[0].posts + ' COMMENTS';
                  $('.show-comments').html(btnText);
              }
          }
      });
    $('.show-comments').on('click', function() {
        $.ajaxSetup({cache:true});
        $.getScript('http://' + disqusShortname + '.disqus.com/embed.js');
        $.ajaxSetup({cache:false});
    });

    if(/\#comment/.test(location.hash)){
        $('.show-comments').trigger('click');
    }
  });
</script>
